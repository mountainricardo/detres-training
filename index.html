<!DOCTYPE html>
<html>
<head>
	<title></title>
	<!-- charset attribute should be set like this to support the use of greek letters within D3.js library -->
	<script type="text/javascript" charset="UTF-8" src="bower_components/d3/d3.js"></script>
</head>
<body>
	<!-- D3.js example goes here -->
    <svg width="800" height="500"></svg>
    
    <script type="text/javascript">
      // Create a data array  
      function randPoint(){
      	var rand = Math.random;
      	return {x: rand()*10, y: rand()*10, r:rand()*10};
      }
      var data = [];
      for(var i=0; i < 300; i++){
      	data.push(randPoint());
      }

      function draw(){
	      var svg = d3.selectAll('svg');

	      function key(d,i){
	      	return d.x + '#' + d.y;
	      }

	      var circles = svg.selectAll('circle').data(data,key);

	      circles.enter()
	      	.append('circle')
	      	.attr('r', function(d){return d.r;})
	      	.attr('cx', function(d){return d.x*70 + 10;})
	      	.attr('cy', function(d){return d.y*40 + 10;})
	      	.attr('fill', function(d){
	      		return 'rgb(' + parseInt(d.r*25,10) + ',0,0)';
	      	})

	      	circles.exit()
	      		.remove();

      }

      var timer = setInterval(function(){
      	data.shift();
      	data.push(randPoint());
      	draw();
      },150);

    </script>
</body>
</html>